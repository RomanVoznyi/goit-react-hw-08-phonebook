{"version":3,"sources":["redux/auth/auth-slice.js","redux/store.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selector.js","redux/phonebook/phone-actions.js","redux/phonebook/phone-operations.js","redux/phonebook/phone-reducer.js","redux/phonebook/phone-selector.js","services/api-services.js","components/Navigation.js","components/PrivateRoute.js","components/PublicRoute.js","components/Contacts/ContactForm.js","components/Contacts/ContactList.js","components/Contacts/Filter.js"],"names":["authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isFetchingAuth","error","extraReducers","userRegisterRequest","fulfilled","state","action","payload","userLoginRequest","userLogoutRequest","_","userCheckCurrent","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","contactsPersistConfig","store","configureStore","reducer","auth","persistReducer","authReducer","phoneBook","phoneReducers","devTools","process","persistor","persistStore","HomeView","lazy","RegisterView","LoginView","ContactsView","NotFoundView","App","isFetching","useSelector","getFetchingStatus","isError","getErrorStatus","dispatch","useDispatch","useEffect","className","autoClose","type","color","height","width","fallback","path","exact","restricted","redirectTo","Copyright","id","ReactDOM","render","StrictMode","loading","document","getElementById","createAsyncThunk","newUser","a","registerRequest","loginRequest","logoutRequest","thunkAPI","getState","persistedToken","rejectWithValue","checkCurrent","getAuthStatus","getUserName","changeFilter","createAction","fetchContacts","getContacts","contacts","addContacts","newObject","addContactsRequest","deleteContacts","deleteContactsRequest","createReducer","filter","el","filterReducer","combineReducers","getFilter","getVisibleContacts","arr","toLowerCase","includes","axios","defaults","baseURL","headers","common","Authorization","post","data","toast","message","Promise","isRejected","get","delete","Navigation","userName","useState","isOpen","setIsOpen","isSmallScreen","useMediaQuery","query","handleClick","prevState","to","ContactPhone","style","fontSize","activeClassName","Button","variant","onClick","marginLeft","PrivateRoute","children","props","PublicRoute","ContactForm","contactName","setContactName","contactNumber","setContactNumber","phoneSelectors","checkContacts","target","find","changeInput","value","reset","onSubmit","evt","preventDefault","phoneOperations","number","onChange","placeholder","required","ContactList","map","Filter","phoneActions"],"mappings":"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","file":"static/js/main.9a10b5c8.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport {\n  userRegisterRequest,\n  userLoginRequest,\n  userLogoutRequest,\n  userCheckCurrent,\n} from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingAuth: false,\n  error: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [userRegisterRequest.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.error = false;\n      state.isLoggedIn = true;\n    },\n    [userLoginRequest.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.error = false;\n      state.isLoggedIn = true;\n    },\n    [userLogoutRequest.fulfilled](state, _) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.error = false;\n      state.isLoggedIn = false;\n    },\n    [userCheckCurrent.pending](state, _) {\n      state.isFetchingAuth = true;\n    },\n    [userCheckCurrent.fulfilled](state, action) {\n      state.user = action.payload;\n      state.error = false;\n      state.isLoggedIn = true;\n      state.isFetchingAuth = false;\n    },\n\n    [userRegisterRequest.rejected](state, _) {\n      state.error = true;\n    },\n    [userLoginRequest.rejected](state, _) {\n      state.error = true;\n    },\n    [userLogoutRequest.rejected](state, _) {\n      state.error = true;\n    },\n    [userCheckCurrent.rejected](state, _) {\n      state.isFetchingAuth = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { phoneReducers } from './phonebook';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst contactsPersistConfig = {\n  key: 'phoneBook',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    phoneBook: persistReducer(contactsPersistConfig, phoneReducers),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { useEffect, Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PrivateRoute, PublicRoute, Navigation } from 'components';\nimport { userCheckCurrent } from 'redux/auth/auth-operations';\nimport { getFetchingStatus, getErrorStatus } from 'redux/auth/auth-selector';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport { Copyright } from '@material-ui/icons';\nimport { GiCrownedHeart } from 'react-icons/gi';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst HomeView = lazy(() =>\n  import('views/HomeView' /* webpackChunkName: \"home\" */),\n);\nconst RegisterView = lazy(() =>\n  import('views/RegisterView' /* webpackChunkName: \"registration\" */),\n);\nconst LoginView = lazy(() =>\n  import('views/LoginView' /* webpackChunkName: \"login\" */),\n);\nconst ContactsView = lazy(() =>\n  import('views/ContactsView' /* webpackChunkName: \"contacts\" */),\n);\nconst NotFoundView = lazy(() =>\n  import('views/NotFoundView.js' /* webpackChunkName: \"unknownPage\" */),\n);\n\nconst App = () => {\n  const isFetching = useSelector(getFetchingStatus);\n  const isError = useSelector(getErrorStatus);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(userCheckCurrent());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App container\">\n      <ToastContainer autoClose={2000} />\n\n      <Navigation />\n\n      <div className=\"viewContainer\">\n        {isFetching && (\n          <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {isError && <div>\"Something was wrong\"</div>}\n        {!isFetching && !isError && (\n          <Suspense\n            fallback={\n              <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n            }\n          >\n            <Switch>\n              <PublicRoute path=\"/\" exact>\n                <HomeView />\n              </PublicRoute>\n\n              <PublicRoute path=\"/register\" exact restricted>\n                <RegisterView />\n              </PublicRoute>\n\n              <PublicRoute path=\"/login\" exact restricted>\n                <LoginView />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                <ContactsView />\n              </PrivateRoute>\n\n              <PublicRoute>\n                <NotFoundView />\n              </PublicRoute>\n            </Switch>\n          </Suspense>\n        )}\n      </div>\n\n      <div className=\"footer\">\n        <Copyright id=\"icon-copyRigths\" />\n        Created by RV | 2021\n        <GiCrownedHeart id=\"icon-heart\" />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'styles/main.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport {\n  registerRequest,\n  loginRequest,\n  logoutRequest,\n  checkCurrent,\n} from 'services/api-services';\n\nexport const userRegisterRequest = createAsyncThunk(\n  'auth/register',\n  async newUser => {\n    const user = await registerRequest(newUser);\n    return user;\n  },\n);\n\nexport const userLoginRequest = createAsyncThunk(\n  'auth/login',\n  async newUser => {\n    const user = await loginRequest(newUser);\n    return user;\n  },\n);\n\nexport const userLogoutRequest = createAsyncThunk(\n  'auth/logout',\n  async () => await logoutRequest(),\n);\n\nexport const userCheckCurrent = createAsyncThunk(\n  'auth/checkCurrent',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (!persistedToken) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    const user = await checkCurrent(persistedToken);\n    return user;\n  },\n);\n","export const getAuthStatus = state => state.auth.isLoggedIn;\nexport const getUserName = state => state.auth.user.name;\nexport const getToken = state => state.auth.token;\nexport const getFetchingStatus = state => state.auth.isFetchingAuth;\nexport const getErrorStatus = state => state.auth.error;\n\nexport const getContacts = state => state.phoneBook.contacts;\nexport const getFilter = state => state.phoneBook.filter;\n\nexport const getVisibleContacts = state => {\n  const arr = getContacts(state);\n  const filter = getFilter(state);\n\n  return arr.filter(el =>\n    el.contactName.toLowerCase().includes(filter.toLowerCase()),\n  );\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('phoneBook/filter');\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport {\n  getContacts,\n  addContactsRequest,\n  deleteContactsRequest,\n} from 'services/api-services';\n\nexport const fetchContacts = createAsyncThunk(\n  'phoneBook/fetchContacts',\n  async () => {\n    const contacts = await getContacts();\n    return contacts;\n  },\n);\n\nexport const addContacts = createAsyncThunk(\n  'phoneBook/add',\n  async newObject => {\n    const contacts = await addContactsRequest(newObject);\n    return contacts;\n  },\n);\n\nexport const deleteContacts = createAsyncThunk('phoneBook/delete', async id => {\n  return await deleteContactsRequest(id);\n});\n","// import { createSlice } from '@reduxjs/toolkit';\n// import { changeFilter } from './phone-actions';\n// import { fetchContacts, addContacts, deleteContacts } from './phone-operations';\n\n// const initialState = {\n//   contacts: [],\n//   filter: '',\n// };\n\n// const contactsSlice = createSlice({\n//   name: 'phoneBook',\n//   initialState,\n//   reducers: {\n//     [changeFilter](state, action) {\n//       console.log('hello', action);\n//       state.filter = action.payload;\n//     },\n//   },\n//   extraReducers: {\n//     [fetchContacts.fulfilled](state, action) {\n//       state.contacts = action.payload;\n//     },\n//     [addContacts.fulfilled](state, action) {\n//       state.contacts.push(action.payload);\n//     },\n//     [deleteContacts.fulfilled](state, action) {\n//       state.contacts.filter(el => el.id !== action.payload);\n//     },\n//   },\n// });\n\n// export default contactsSlice.reducer;\n\nimport { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport { changeFilter } from './phone-actions';\nimport { fetchContacts, addContacts, deleteContacts } from './phone-operations';\n\nconst getContacts = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [addContacts.fulfilled]: (state, action) => [...state, action.payload],\n  [deleteContacts.fulfilled]: (state, action) =>\n    state.filter(el => el.id !== action.payload),\n});\n\nconst filterReducer = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});\n\nexport default combineReducers({\n  contacts: getContacts,\n  filter: filterReducer,\n});\n","export const getContacts = state => state.phoneBook.contacts;\nexport const getFilter = state => state.phoneBook.filter;\n\nexport const getVisibleContacts = state => {\n  const arr = getContacts(state);\n  const filter = getFilter(state);\n\n  return arr.filter(el => el.name.toLowerCase().includes(filter.toLowerCase()));\n};\n","import { isRejected } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\n// Auth requests\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const registerRequest = async newUser => {\n  try {\n    const { data } = await axios.post('/users/signup', newUser);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    toast.error(`Registration error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n};\n\nexport const loginRequest = async user => {\n  try {\n    const { data } = await axios.post('/users/login', user);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    toast.error(`Login error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n};\n\nexport const logoutRequest = async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    toast.error(`Logout error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n};\n\nexport const checkCurrent = async persistedToken => {\n  token.set(persistedToken);\n  try {\n    const { data } = await axios.get('/users/current');\n    return data;\n  } catch (error) {\n    toast.error(`CheckCurrent error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n};\n\n// Contacts requests\nexport async function getContacts() {\n  try {\n    const { data } = await axios.get('/contacts');\n    return data;\n  } catch (error) {\n    toast.error(`Getting Contacts error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n}\n\nexport async function addContactsRequest(newObject) {\n  try {\n    const { data } = await axios.post('/contacts', newObject);\n    return data;\n  } catch (error) {\n    toast.error(`Adding new contact error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n}\n\nexport async function deleteContactsRequest(id) {\n  try {\n    await axios.delete(`/contacts/${id}`);\n    return id;\n  } catch (error) {\n    toast.error(`Deleting contact error. ${error.message}`);\n    return new Promise(isRejected);\n  }\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { useMediaQuery } from 'react-responsive';\nimport { getAuthStatus, getUserName } from 'redux/auth/auth-selector';\nimport { userLogoutRequest } from 'redux/auth/auth-operations';\n\nimport { Button } from '@material-ui/core';\nimport { ContactPhone } from '@material-ui/icons';\nimport { ImReddit, ImExit, ImCross } from 'react-icons/im';\nimport { GiHamburgerMenu } from 'react-icons/gi';\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(state => getAuthStatus(state));\n  const userName = useSelector(state => getUserName(state));\n  const [isOpen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n\n  const isSmallScreen = useMediaQuery({ query: '(max-device-width: 767px)' });\n\n  const handleClick = () => {\n    setIsOpen(prevState => !prevState);\n  };\n\n  return (\n    <>\n      <nav className=\"navBar container\">\n        <NavLink to=\"/\" className=\"logo\">\n          <div className=\"navLogoBackground\">\n            <ContactPhone className=\"logo\" style={{ fontSize: 25 }} />\n          </div>\n        </NavLink>\n\n        {!isSmallScreen && (\n          <NavLink to=\"/\" exact className=\"link\" activeClassName=\"activeLink\">\n            Home\n          </NavLink>\n        )}\n\n        {isLoggedIn && (\n          <NavLink to=\"/contacts\" className=\"link\" activeClassName=\"activeLink\">\n            PhoneBook\n          </NavLink>\n        )}\n\n        {isSmallScreen && (\n          <Button\n            id=\"modalMenu\"\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"button\"\n            onClick={handleClick}\n          >\n            {isOpen ? <ImCross /> : <GiHamburgerMenu />}\n          </Button>\n        )}\n\n        <span\n          className={\n            !isSmallScreen\n              ? 'authBar'\n              : isOpen\n              ? 'authMobileBar'\n              : 'visually-hidden'\n          }\n          onClick={handleClick}\n        >\n          {isLoggedIn ? (\n            <>\n              <ImReddit className=\"avatar\" style={{ fontSize: 25 }} />\n              <span className=\"greeting\">\n                Welcome\n                <span className=\"userName\">{userName}</span>\n              </span>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                type=\"button\"\n                onClick={() => dispatch(userLogoutRequest())}\n              >\n                Log out\n                <ImExit style={{ marginLeft: 10 }} />\n              </Button>\n            </>\n          ) : (\n            <>\n              <NavLink\n                to=\"/register\"\n                exact\n                className=\"link register\"\n                activeClassName=\"activeLink\"\n              >\n                Register\n              </NavLink>\n              <NavLink\n                to=\"/login\"\n                className=\"link\"\n                activeClassName=\"activeLink\"\n              >\n                Login\n              </NavLink>\n            </>\n          )}\n        </span>\n      </nav>\n    </>\n  );\n};\n\nexport default Navigation;\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getAuthStatus } from 'redux/auth/auth-selector';\n\nconst PrivateRoute = ({ children, redirectTo = '/', ...props }) => {\n  const isLoggedIn = useSelector(state => getAuthStatus(state));\n\n  return (\n    <Route {...props}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n};\n\nexport default PrivateRoute;\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getAuthStatus } from 'redux/auth/auth-selector';\n\nconst PublicRoute = ({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...props\n}) => {\n  const isLoggedIn = useSelector(state => getAuthStatus(state));\n\n  return (\n    <Route {...props}>\n      {isLoggedIn && restricted ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n};\n\nexport default PublicRoute;\n","import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { phoneOperations, phoneSelectors } from 'redux/phonebook';\nimport { toast } from 'react-toastify';\n\nconst ContactForm = () => {\n  const [contactName, setContactName] = useState('');\n  const [contactNumber, setContactNumber] = useState('');\n  const contacts = useSelector(state => phoneSelectors.getContacts(state));\n  const dispatch = useDispatch();\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (checkContacts(contacts, contactName)) {\n      toast.error(`${contactName} is already in contacts.`);\n    } else {\n      dispatch(\n        phoneOperations.addContacts({\n          name: contactName,\n          number: contactNumber,\n        }),\n      );\n\n      reset();\n    }\n  };\n\n  const checkContacts = (arr, target) => {\n    return arr.find(({ name }) => name.toLowerCase() === target.toLowerCase());\n  };\n\n  const changeInput = ({ target: { name, value } }) =>\n    name === 'name' ? setContactName(value) : setContactNumber(value);\n\n  const reset = () => {\n    setContactName('');\n    setContactNumber('');\n  };\n\n  return (\n    <form className=\"subForm\" onSubmit={handleSubmit}>\n      <h2 className=\"subFormTitle\">Add new contacts:</h2>\n      <label className=\"subFormLabel\">\n        <span className=\"subFormLabelTitle\">Name:</span>\n        <input\n          className=\"subFormInput\"\n          type=\"text\"\n          onChange={changeInput}\n          value={contactName}\n          name=\"name\"\n          placeholder=\"input name\"\n          required\n        />\n      </label>\n      <label className=\"subFormLabel\">\n        <span className=\"subFormLabelTitle\">Phone:</span>\n        <input\n          className=\"subFormInput\"\n          type=\"text\"\n          onChange={changeInput}\n          value={contactNumber}\n          name=\"number\"\n          placeholder=\"input phone number\"\n          required\n        />\n      </label>\n\n      <button type=\"submit\" className=\"addBtn\">\n        Add\n      </button>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { phoneOperations, phoneSelectors } from 'redux/phonebook';\n\nimport { MdAccountCircle } from 'react-icons/md';\nimport { CgCloseO } from 'react-icons/cg';\n\nconst ContactList = () => {\n  const dispatch = useDispatch();\n  const contacts = useSelector(state =>\n    phoneSelectors.getVisibleContacts(state),\n  );\n\n  useEffect(() => dispatch(phoneOperations.fetchContacts()), [dispatch]);\n\n  return (\n    <ul className=\"contacsList\">\n      {contacts.map(({ id, name, number }) => (\n        <li key={id} className=\"contactItem\">\n          <MdAccountCircle id=\"mdAccount\" className=\"box1\" />\n          <span className=\"contactName box2\">{name}</span>\n          <span className=\"contactNumber box3\">{number}</span>\n          <button\n            type=\"button\"\n            className=\"closeBtn box4\"\n            onClick={() => dispatch(phoneOperations.deleteContacts(id))}\n          >\n            <CgCloseO />\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default ContactList;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { phoneActions, phoneSelectors } from 'redux/phonebook';\n\nconst Filter = () => {\n  const value = useSelector(state => phoneSelectors.getFilter(state));\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"subForm\">\n      <h2 className=\"subFormTitle\">Find contacts:</h2>\n      <label className=\"subFormLabel\">\n        <span className=\"subFormLabelTitle\">find:</span>\n        <input\n          className=\"subFormInput\"\n          type=\"text\"\n          onChange={evt =>\n            dispatch(phoneActions.changeFilter(evt.target.value))\n          }\n          value={value}\n          name=\"filter\"\n          placeholder=\"input name\"\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default Filter;\n"],"sourceRoot":""}